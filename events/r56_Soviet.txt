###########################
# Custom R56 Soviet events#
###########################

add_namespace = r56.soviet


country_event = {
	id =  r56.soviet.1
	title = r56.soviet.1.t
	desc = r56.soviet.1.d
	picture = GFX_report_event_soviet_tanks


	fire_only_once = yes

	trigger = { 
	TAG = SOV
	NOT = { 
	has_country_flag = sov_industry_event 
		}
	}

	
	option = {
		name = r56.soviet.1.a
		set_country_flag = SOV_industry_event
		hidden_effect = { 
		remove_ideas = SOV_revolutionized_industry_ghost
		}
		add_timed_idea = {
				idea = SOV_revolutionized_industry_1
				days = 435
			}
	}
	option = {
		name = r56.soviet.1.b
		set_country_flag = SOV_industry_event
		hidden_effect = { 
		remove_ideas = SOV_revolutionized_industry_ghost
		}
		add_political_power = -25
		add_timed_idea = {
				idea = SOV_revolutionized_industry_2
				days = 435
			}
	}
}
#Bad railway events, complete all the railway focuses to stop the pain
country_event = {
	id = r56.soviet.2
	title = r56.soviet.2.t
	desc = r56.soviet.2.d
	picture = GFX_report_event_soviet_tanks

	trigger = { 
	original_tag = SOV
	date > 1936.3.1
	NOT = { 
	has_country_flag = SOV_fixed_choo_choo
	has_country_flag = SOV_choo_choo_debuff_1_fired
	has_completed_focus = SOV_Improve_TransSiberian_Railway
		}
	}

	
	option = {
		name = r56.soviet.2.a
		set_country_flag = SOV_choo_choo_debuff_1_fired
		add_political_power = -5
		add_timed_idea = {
				idea = SOV_industry_slow_down
				days = 30
			}
	}
}	
country_event = {
	id = r56.soviet.3
	title = r56.soviet.3.t
	desc = r56.soviet.3.d
	picture = GFX_report_event_soviet_tanks

	trigger = { 
	original_tag = SOV
	date > 1936.6.20
	NOT = { 
	has_country_flag = SOV_fixed_choo_choo
	has_country_flag = SOV_choo_choo_debuff_2_fired
	has_completed_focus =  SOV_Improve_TransSiberian_Railway
		}
	}

	
	option = {
		name = r56.soviet.3.a
		set_country_flag = SOV_choo_choo_debuff_2_fired
		add_political_power = -10 
		add_timed_idea = {
				idea = SOV_industry_slow_down
				days = 45
			}
	}
}

country_event = {

	id = r56.soviet.4
	title = r56.soviet.4.t
	desc = r56.soviet.4.d
	picture = GFX_report_event_soviet_tanks

	trigger = { 
	original_tag = SOV
	date > 1936.9.20
	NOT = { 
	has_country_flag = SOV_fixed_choo_choo
	has_country_flag = SOV_choo_choo_debuff_3_fired
	has_completed_focus = SOV_Improve_TransSiberian_Railway
		}
	}

	
	option = {
		name = r56.soviet.4.a
		set_country_flag = SOV_choo_choo_debuff_3_fired
		add_political_power = -25
		add_timed_idea = {
				idea = SOV_industry_slow_down
				days = 60
			}
	}
}

country_event = {

	id = r56.soviet.5
	title = r56.soviet.5.t
	desc = r56.soviet.5.d
	picture = GFX_report_event_soviet_tanks

	trigger = { 
	original_tag = SOV
	date > 1937.1.4
	NOT = { 
	has_country_flag = SOV_fixed_choo_choo
	has_country_flag = SOV_choo_choo_debuff_4_fired
	has_completed_focus = SOV_Improve_TransSiberian_Railway
		}
	}

	
	option = {
		name = r56.soviet.5.a
		set_country_flag = SOV_choo_choo_debuff_4_fired
		add_political_power = -50
		add_timed_idea = {
				idea = SOV_industry_slow_down
				days = 90
			}
	}
}

country_event = {

	id = r56.soviet.6
	title = r56.soviet.6.t
	desc = r56.soviet.6.d
	picture = GFX_report_event_soviet_tanks

	trigger = { 
	original_tag = SOV
	date > 1937.5.23
	NOT = { 
	has_country_flag = SOV_fixed_choo_choo
	has_country_flag = SOV_choo_choo_debuff_5_fired
	has_completed_focus = SOV_Improve_TransSiberian_Railway
		}
	}

	
	option = {
		name = r56.soviet.6.a
		set_country_flag = SOV_choo_choo_debuff_5_fired
		add_manpower = -1
		add_political_power = -75
		add_timed_idea = {
				idea = SOV_industry_slow_down
				days = 180
			}
	}
}

country_event = {

	id = r56.soviet.7
	title = r56.soviet.7.t
	desc = r56.soviet.7.d
	picture = GFX_report_event_soviet_tanks

	trigger = { 
	original_tag = SOV
	date > 1938.1.3
	NOT = { 
	has_country_flag = SOV_fixed_choo_choo
	has_country_flag = SOV_choo_choo_debuff_6_fired
	has_completed_focus = SOV_Improve_TransSiberian_Railway
		}
	}

	
	option = {
		name = r56.soviet.7.a
		set_country_flag = SOV_choo_choo_debuff_6_fired
		add_political_power = -150
		add_timed_idea = {
				idea = SOV_industry_slow_down
				days = 365
			}
	}
}

country_event = { 

	id = r56.soviet.8
	title = r56.soviet.8.t
	desc = r56.soviet.8.d
	picture = GFX_report_event_soviet_tanks

	trigger = { 
	original_tag = SOV
	date > 1939.1.10
	NOT = { 
	has_country_flag = SOV_fixed_choo_choo
	has_country_flag = SOV_choo_choo_debuff_7_fired
	has_completed_focus = SOV_Improve_TransSiberian_Railway
		}
	}

	
	option = {
		name = r56.soviet.8.a
		set_country_flag = SOV_choo_choo_debuff_7_fired
		add_political_power = -150
		add_timed_idea = {
				idea = SOV_industry_slow_down
				days = 670
			}
	}
}
#Disease Events
country_event = { 

	id = r56.soviet.9
	title = r56.soviet.9.t
	desc = r56.soviet.9.d
	picture = GFX_report_event_soviet_tanks

	fire_only_once = yes

	trigger = { 
	original_tag = SOV
	date > 1936.8.5
	has_idea = SOV_risk_of_disease
	NOT = { 
	has_country_flag = SOV_disease_1
	has_country_flag = SOV_mass_immunizations_happened
	has_completed_focus = SOV_Mass_Immunizations
		}
	}

	
	option = {
		name = r56.soviet.9.a
		swap_ideas = { remove_idea = SOV_risk_of_disease add_idea = SOV_proliferation_of_disease } 
		add_manpower = -10000
		set_country_flag = SOV_disease_1
	}
}
#Safety nets if idea is somehow not removed 
country_event = { 

	id = r56.soviet.10
	title = r56.soviet.10.t
	desc = r56.soviet.10.d
	picture = GFX_report_event_soviet_tanks


	fire_only_once = yes

	trigger = { 
	original_tag = SOV
	has_idea = SOV_proliferation_of_disease
	has_country_flag = SOV_mass_immunizations_happened
	has_completed_focus = SOV_Mass_Immunizations
	}

	
	option = {
		name = r56.soviet.10.a
		remove_idea =  SOV_proliferation_of_disease
	}
}
#dude sick people are still a thing
country_event = { 

	id = r56.soviet.11
	title = r56.soviet.11.t
	desc = r56.soviet.11.d
	picture = GFX_report_event_soviet_tanks


	fire_only_once = yes

	trigger = { 
	original_tag = SOV
	date > 1938.1.1
	has_idea = SOV_proliferation_of_disease
	NOT = { 
	has_country_flag = SOV_disease_2
	has_country_flag = SOV_mass_immunizations_happened
	has_completed_focus = SOV_Mass_Immunizations
		}
	}

	
	option = {
		name = r56.soviet.11.a
		swap_ideas = { remove_idea = SOV_proliferation_of_disease add_idea = SOV_widespread_outbreaks } 
		add_manpower = -100000
		set_country_flag = SOV_disease_2
	}
}
#safty net 2
country_event = { 

	id = r56.soviet.12
	title = r56.soviet.12.t
	desc = r56.soviet.12.d
	picture = GFX_report_event_soviet_tanks

	trigger = { 
	original_tag = SOV
	has_idea = SOV_widespread_outbreaks
	has_country_flag = SOV_mass_immunizations_happened
	has_completed_focus = SOV_Mass_Immunizations
	}

	
	option = {
		name = r56.soviet.12.a
		remove_idea =  SOV_widespread_outbreaks
	}
}
#Outbreak flavor Leningrad
country_event = { 

	id = r56.soviet.13
	title = r56.soviet.13.t
	desc = r56.soviet.13.d
	picture = GFX_report_event_soviet_tanks

	fire_only_once = yes


	trigger = { 
	original_tag = SOV
	date > 1937.1.1
	has_idea = SOV_proliferation_of_disease
	has_full_control_of_state = 219
	has_government = communism
	NOT = { 
	has_country_flag = SOV_disease_3
	has_country_flag = SOV_mass_immunizations_happened
	has_completed_focus = SOV_Mass_Immunizations
		}
	}

	
	option = {
		name = r56.soviet.13.a
		add_manpower = -10000
		set_country_flag = SOV_disease_3
	}
}
#Outbreak flavor Moscow
country_event = { 

	id = r56.soviet.14
	title = r56.soviet.14.t
	desc = r56.soviet.14.d
	picture = GFX_report_event_soviet_tanks

	fire_only_once = yes


	trigger = { 
	original_tag = SOV
	date > 1936.10.1
	has_idea = SOV_proliferation_of_disease
	has_full_control_of_state = 195
	NOT = { 
	has_country_flag = SOV_disease_4
	has_country_flag = SOV_mass_immunizations_happened
	has_completed_focus = SOV_Mass_Immunizations
		}
	}

	
	option = {
		name = r56.soviet.14.a
		add_manpower = -10000
		set_country_flag = SOV_disease_4
	}
}
#Outbreak flavor 
country_event = { 

	id = r56.soviet.15
	title = r56.soviet.15.t
	desc = r56.soviet.15.d
	picture = GFX_report_event_soviet_tanks

	fire_only_once = yes


	trigger = { 
	original_tag = SOV
	date > 1937.3.1
	has_idea = SOV_proliferation_of_disease
	has_full_control_of_state = 219
	has_government = communism
	NOT = { 
	has_country_flag = SOV_disease_5
	has_country_flag = SOV_mass_immunizations_happened
	has_completed_focus = SOV_Mass_Immunizations
		}
	}

	
	option = {
		name = r56.soviet.15.a
		add_manpower = -10000
		set_country_flag = SOV_disease_5
	}
}
#Failing the timetable for the Five year plan
country_event = { 

	id = r56.soviet.16
	title = r56.soviet.16.t
	desc = r56.soviet.16.d
	picture = GFX_report_event_soviet_tanks

	fire_only_once = yes


	trigger = { 
	original_tag = SOV
	date > 1938.5.30
	has_government = communism
	NOT = { 
	has_country_flag = SOV_five_year_punishment_fired
	has_completed_focus = SOV_third_five_year_plan
		}
	}

	
	option = {
		name = r56.soviet.16.a
		add_political_power = -200
		add_timed_idea = {
				idea = SOV_industry_slow_down
				days = 365
			}
		add_manpower = -1
		set_country_flag = SOV_five_year_punishment_fired
	}
}
#Transpolar Flight flavor
country_event = { 

	id = r56.soviet.17
	title = r56.soviet.17.t
	desc = r56.soviet.17.d
	picture = GFX_report_event_soviet_tanks

	fire_only_once = yes


	trigger = { 
	original_tag = SOV
	has_idea = 	SOV_transpolar_flights_idea
	date > 1937.6.17
	has_government = communism
	has_war = no
	has_completed_focus = SOV_transpolar_flights
	}

	
	option = {
		name = r56.soviet.17.a
		air_experience = 10
	}
}
#Form a Fifth Column these are prob going to be buggy
country_event = { 

	id = r56.soviet.18
	title = r56.soviet.18.t
	desc = r56.soviet.18.d
	picture = GFX_report_event_soviet_tanks

	fire_only_once = yes


	is_triggered_only = yes

	
	option = {
		name = r56.soviet.18.a	
	}

}

country_event = { 

	id = r56.soviet.19
	title = r56.soviet.19.t
	desc = r56.soviet.19.d
	picture = GFX_report_event_soviet_tanks

	fire_only_once = yes

	trigger = { 
	NOT = { has_completed_focus = SOV_form_a_fifth_column }
		focus_progress = {
			focus = SOV_form_a_fifth_column
			progress > 0.1
		}
	}

	mean_time_to_happen = {
		days = 1
	}

	
	option = {
		name = r56.soviet.19.a
	}

}

country_event = { 

	id = r56.soviet.20
	title = r56.soviet.20.t
	desc = r56.soviet.20.d
	picture = GFX_report_event_soviet_tanks

	fire_only_once = yes

	trigger = { 
	NOT = { has_completed_focus = SOV_form_a_fifth_column }
		focus_progress = {
			focus = SOV_form_a_fifth_column
			progress > 0.25
		}
	}

	mean_time_to_happen = {
		days = 1
	}	

	option = {
		name = r56.soviet.20.a
		set_country_flag = yes_to_exiles_1
	}
	option = {
		name = r56.soviet.20.b
	}

}

country_event = { 

	id = r56.soviet.21
	title = r56.soviet.21.t
	desc = r56.soviet.21.d
	picture = GFX_report_event_soviet_tanks

	fire_only_once = yes

	trigger = { 
	NOT = { has_completed_focus = SOV_form_a_fifth_column }
		focus_progress = {
			focus = SOV_form_a_fifth_column
			progress > 0.49
		}
	}

	mean_time_to_happen = {
		days = 1
	}	

	option = {
		name = r56.soviet.21.a
		set_country_flag = yes_to_exiles_2
	}
	option = {
		name = r56.soviet.21.b
	}

}

country_event = { 

	id = r56.soviet.22
	title = r56.soviet.22.t
	desc = r56.soviet.22.d
	picture = GFX_report_event_soviet_tanks

	fire_only_once = yes

	trigger = { 
	NOT = { has_completed_focus = SOV_form_a_fifth_column }
		focus_progress = {
			focus = SOV_form_a_fifth_column
			progress > 0.70
		}
	}

	mean_time_to_happen = {
		days = 1
	}	

	option = {
		name = r56.soviet.22.a
		set_country_flag = yes_to_exiles_3
	}

	option = {
		name = r56.soviet.22.b
	}

}

country_event = { 

	id = r56.soviet.23
	title = r56.soviet.23.t
	desc = r56.soviet.23.d
	picture = GFX_report_event_soviet_tanks

	fire_only_once = yes

	trigger = { 
	NOT = { has_completed_focus = SOV_form_a_fifth_column }
		focus_progress = {
			focus = SOV_form_a_fifth_column
			progress > 0.8
		}
	}

	mean_time_to_happen = {
		days = 1
	}	

	option = {
		name = r56.soviet.23.a
		set_country_flag = yes_to_exiles_4
	}

	option = {
		name = r56.soviet.23.a
	}

}

#Trotsky comes back fifth column
country_event = { 

	id = r56.soviet.24
	title = r56.soviet.24.t
	desc = r56.soviet.24.d
	picture = GFX_report_event_soviet_tanks

	fire_only_once = yes

	is_triggered_only = yes

	mean_time_to_happen = {
		days = 5
	}	

	option = {
		name = r56.soviet.24.a
		set_country_flag = trotsky_check
		set_country_flag = trotsky_return_1
		create_country_leader = {
			name = "Leon Trotsky"
			desc = "POLITICS_LEON_TROTSKY_DESC"
			picture = "Portrait_Leon_Trotsky.dds"
			expire = "1965.1.1"
			ideology = leninism
			traits = {
				permanent_revolutionary
			}
		}	
	}

}
#News events end of civil war Troksity victory
news_event = {
	id = r56.soviet.25
	title = r56.soviet.25.t
	desc = r56.soviet.25.d
	picture = GFX_news_event_033
	
	major = yes
	
	trigger = {
		has_global_flag = soviet_civil_war_1
		NOT = { has_global_flag = SOV_over }
		SOV = { has_civil_war = no }
		any_other_country = {
			original_tag = SOV
			has_government = communism
		}
		all_country = {
			OR = {
				NOT = { original_tag = SOV }
				has_government = communism
			}
		}
	}
	
	mean_time_to_happen = {
		days = 2
	}
	
	immediate = {
		set_global_flag = trotsky_victory
		set_global_flag = SOV_over
	}
	
	option = {
		name = r56.soviet.25.a
		trigger = {
			NOT = { original_tag = SOV }
		}
	}
	option = {
		name = r56.soviet.25.b
		trigger = { original_tag = SOV }
		delete_unit_template_and_units = { division_template = "otsloyka" }
		add_ideas = SOV_internal_chaos
	}
}
#Stalin somehow won you bum
news_event = {
	id = r56.soviet.26
	title = r56.soviet.26.t
	desc = r56.soviet.26.d
	picture = GFX_news_event_033
	
	major = yes
	
	trigger = {
		has_global_flag = soviet_civil_war_1
		NOT = { has_global_flag = SOV_over }
		SOV = { has_civil_war = no }
		any_other_country = {
			original_tag = SOV
			has_government = neutrality
		}
		all_country = {
			OR = {
				NOT = { original_tag = SOV }
				has_government = neutrality
			}
		}
	}
	
	mean_time_to_happen = {
		days = 2
	}
	
	immediate = {
		set_global_flag = trotsky_defeat
		set_global_flag = SOV_over
	}
	
	option = {
		name = r56.soviet.25.a
		trigger = {
			NOT = { original_tag = SOV }
		}
	}
	option = {
		name = r56.soviet.25.b
		trigger = { original_tag = SOV }
		delete_unit_template_and_units = { division_template = "militsiya" }
	}
}
